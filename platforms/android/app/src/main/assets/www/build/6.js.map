{"version":3,"sources":["../../src/pages/menu/menu.module.ts","../../src/pages/menu/menu.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MenuPage } from './menu';\n\n\n// import { SearchPipe } from '../../pipes/search/search';\n// import { SortPipe } from '../../pipes/sort/sort';\n\n@NgModule({\n  declarations: [\n    MenuPage,\n    // SearchPipe,\n    // SortPipe\n  ],\n  imports: [\n    IonicPageModule.forChild(MenuPage),\n  ],\n})\nexport class MenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,PopoverController,Platform } from 'ionic-angular';\nimport { ViewChild } from '@angular/core';\nimport { Slides } from 'ionic-angular';\nimport {Popoverprovider} from '../../providers/popover';\nimport { Diagnostic } from '@ionic-native/diagnostic';\n\nimport { ApiRequestProvider } from '../../providers/api-request/api-request';\nimport { CartProvider } from '../../providers/cart/cart';\nimport { Storage } from '@ionic/storage';\n\n/**\n * Generated class for the MenuPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-menu',\n  templateUrl: 'menu.html',\n})\n\nexport class MenuPage {\n  @ViewChild(Slides) slides: Slides;\n  actions:any; data:any; currency: string=\"â‚µ\";productcode:any;prclustercode:any;productname:any; clustername:any;gottencartitem: any;cartiteminfo: any;arr: any;\n  searchVal: any;searchresults: any;total_db:any;totalItems_db:any;cartinfo: any;gottenitem: any;cartcount:any;url:any;descending: boolean = false;order: number;\n  column: string = 'name';searchQuery: string = '';items: any;orderPlaced_showmap: boolean = false;ads: any;\n  userslocation:any;username_:any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,  public popoverCtrl: PopoverController, public pop: Popoverprovider, public apiReq:ApiRequestProvider, public cart:CartProvider, public storage: Storage,private diagnostic: Diagnostic, private _PLATFORM : Platform) {\n    // this.url=localStorage.getItem('PhotoUrl')+'/products/';\n\n    // this.url=\"http://localhost/atk.api/media/uploads/products/\"; \n    this.url=\"http://tuyoinc.com/atk.api/media/uploads/products/\"; \n    \n    this.productcode = localStorage.getItem('Productcode');\n    this.productcode = localStorage.getItem('productname');\n    this.clustername = localStorage.getItem('BranchCode');\n    this.username_ = localStorage.getItem('username');\n    this.username_  = this.username_.charAt(0).toUpperCase() + this.username_.slice(1);;\n    \n    this.total_db = 0;\n\n\n    this.userslocation = this.navParams.get('userslocation');\n\n    if(this.userslocation == \"\" || this.userslocation == null ){\n      this.userslocation = localStorage.getItem('userslocation');\n    }\n\n    \n    // this.productcode = this.navParams.get('productcode');\n    console.log('This is the info on menu ', this.userslocation);\n    this.checklocation();\n    this.loadData();\n\n  }\n\n  \n  checklocation(){\n\n    this.diagnostic.isLocationEnabled().then((isEnabled) => {\n      if(!isEnabled && this._PLATFORM.is('cordova')){\n          //handle confirmation window code here and then call switchToLocationSettings\n        this.diagnostic.switchToLocationSettings();\n      }\n      else{   \n      }\n    })\n\n  }\n\n\n  doRefresh(refresher) {\n    console.log('Begin async operation', refresher);\n\n    this.loadData();\n\n    setTimeout(() => {\n\n      console.log('Async operation has ended');\n      refresher.complete();\n    }, 2000);\n  }\n\n\n  ionViewWillEnter(){\n    \n    // this.loadAds();\n  }\n\n  ionViewDidEnter(){\n    console.log(\"Total Cart Items \" , this.cartcount);\n    this.cartcount_here();\n    this.mapStatus();\n  }\n\n  cartcount_here(){\n    this.cartcount = this.cart.count_me();\n  }\n\n  mapStatus(){\n    this.storage.get('mapstatus').then((gottenitems) => {\n      if(gottenitems != null){\n        if(gottenitems == \"pending\"){\n          this.orderPlaced_showmap = true;\n        }else{\n          this.orderPlaced_showmap = false;\n         }\n      }\n    });\n  }\n\n  loadData(){\n    this.items =[];\n    this.actions = \"&actions=fetchrestaurants\";\n    this.data = \"&userslocation=\"+this.userslocation;\n    this.apiReq.postData(this.actions,this.data).then(res=>{\n      let repo = JSON.parse(res['_body']);\n      console.log(repo +' I have data!');\n      if(repo.msg == 'true'){\n        this.items = repo.data;\n      }else{\n        this.apiReq.errorToast('Network is slow');\n      }\n    })\n  }\n\n  // loadAds(){\n  //   this.items =[];\n  //   this.actions = \"&actions=adsfetch\";\n  //   this.data = \"\";\n  //   this.apiReq.postData(this.actions,this.data).then(res=>{\n  //     let repo = JSON.parse(res['_body']);\n  //     console.log(repo +' I have Ads!');\n  //     if(repo.msg == 'true'){\n  //       this.ads = repo.data;\n  //     }else{\n  //       this.apiReq.errorToast('Network is slow');\n  //     }\n  //   })\n  // }\n\n  sort(){\n    this.descending = !this.descending;\n    this.order = this.descending ? 1 : -1;\n  }\n\n  goProductdetailsPage(id,name,price,photo) {\n    this.navCtrl.push('ProductdetailsPage',{\n      productcode:id,\n      productname:name,\n      productprice:price,\n      productphoto:photo\n    });\n  }\n\n  opencart() {\n      this.navCtrl.push('CartPage');\n  }\n\n  opensearch() {\n      this.navCtrl.push('SearchPage');\n  }\n\n  openfoods(restaurant_details) {\n\n    this.navCtrl.push('FoodsPage',{\n      restaurant_details:restaurant_details\n    });\n    \n  }\n\n\n  addToCart(prcode,productname,productprice){\n    this.cart.addToCart(prcode,productname,productprice);\n    this.cartcount_here();\n  }\n\n  carttotal(price){\n    // Store pin in database\n    this.storage.get('pricetotal').then((gottenitems) => {\n      if(gottenitems != null){\n\n          this.total_db = Number(gottenitems) + Number(price); \n          this.storage.set('pricetotal', this.total_db);\n          console.log('Total not new', this.total_db);\n\n      }else{\n         this.total_db = Number(price); \n         this.storage.set('pricetotal', this.total_db);\n         console.log('Total ', this.total_db);\n      }\n    });\n  }\n\n  cartItemsNum(){\n    // Store pin in database\n    this.storage.get('cartItemsNum').then((gottenitems) => {\n      if(gottenitems != null){\n          this.totalItems_db = Number(gottenitems) + 1; \n          this.storage.set('cartItemsNum', this.totalItems_db);\n          console.log('Total Items in cart Not New', this.totalItems_db);\n      }else{\n         this.totalItems_db = 1; \n         this.storage.set('cartItemsNum', this.totalItems_db);\n         console.log('Total Items in cart Old', this.totalItems_db);\n      }\n    });\n  }\n\n  GetcartItemsNum(){\n    // Store pin in database\n    this.storage.get('cartItemsNum').then((gottenitems) => {\n      if(gottenitems != null){\n          this.totalItems_db = Number(gottenitems); \n      }\n    });\n\n  }\n\n\n  toCartPage(){\n    this.navCtrl.push('CartPage');\n  }\n\n  goToSlide() {\n    this.slides.slideTo(2, 500);\n  }\n\n  toNotificationPage() {\n    this.navCtrl.push('NotificationPage');\n  }\n\n  toMaplocPage() {\n    this.navCtrl.push('MaplocPage');\n  }\n\n  toProductDetailsPage(id,name,price,photo) {\n      this.navCtrl.push('ProductdetailsPage',{\n        productcode:id,\n        productname:name,\n        productprice:price,\n        productphoto:photo\n      });\n    // this.navCtrl.push('ProductdetailsPage');\n  }\n\n\n  presentPopover(event){\n    this.pop.navPopover(event);\n  }\n\n  popView(){\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/menu/menu.ts"],"sourceRoot":""}