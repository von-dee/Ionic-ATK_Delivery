{"version":3,"sources":["../../src/pages/foods/foods.module.ts","../../src/pages/foods/foods.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FoodsPage } from './foods';\n\n@NgModule({\n  declarations: [\n    FoodsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FoodsPage),\n  ],\n})\nexport class FoodsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/foods/foods.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,PopoverController } from 'ionic-angular';\nimport {Popoverprovider} from '../../providers/popover';\n\nimport { ApiRequestProvider } from '../../providers/api-request/api-request';\nimport { CartProvider } from '../../providers/cart/cart';\nimport { Storage } from '@ionic/storage';\n/**\n * Generated class for the FoodsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-foods',\n  templateUrl: 'foods.html',\n})\nexport class FoodsPage {\n  actions:any; data:any; currency: string=\"â‚µ\";productcode:any;prclustercode:any;productname:any; clustername:any;gottencartitem: any;cartiteminfo: any;arr: any;\n  searchVal: any;searchresults: any;total_db:any;totalItems_db:any;cartinfo: any;gottenitem: any;cartcount:any;url:any;descending: boolean = false;order: number;\n  column: string = 'name';searchQuery: string = '';items: any;orderPlaced_showmap: boolean = false;ads: any;restaurant_details:any;\n  rest_name: any;rest_description: any;rest_location: any;rest_phone: any;rest_rate: any;rest_id: any;rest_coverimage: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,  public popoverCtrl: PopoverController, public pop: Popoverprovider, public apiReq:ApiRequestProvider, public cart:CartProvider, public storage: Storage) {\n    // this.url=localStorage.getItem('PhotoUrl')+'/products/';\n    \n    // this.url=\"http://localhost/atk.api/media/uploads/products/\"; \n    this.url=\"http://tuyoinc.com/atk.api/media/uploads/products/\"; \n    this.productcode = localStorage.getItem('Productcode');\n    this.productcode = localStorage.getItem('productname');\n    this.clustername = localStorage.getItem('BranchCode');\n    this.total_db = 0;\n    this.items = \"\";\n    \n    this.restaurant_details = this.navParams.get('restaurant_details');\n    console.log(this.restaurant_details);\n    this.rest_id = this.restaurant_details.rest_id;\n    this.rest_name = this.restaurant_details.rest_name;\n    this.rest_description = this.restaurant_details.rest_description;\n    this.rest_location = this.restaurant_details.rest_location;\n    this.rest_phone = this.restaurant_details.rest_phone;\n    this.rest_rate = this.restaurant_details.rest_rate;\n    this.rest_coverimage = this.restaurant_details.rest_coverimage;\n    \n  }\n\n\n  ionViewWillEnter(){\n    this.loadData();\n    // this.loadAds();\n  }\n\n  ionViewDidEnter(){\n    console.log(\"Total Cart Items \" , this.cartcount);\n    this.cartcount_here();\n    this.mapStatus();\n  }\n\n  cartcount_here(){\n    this.cartcount = this.cart.count_me();\n  }\n\n  mapStatus(){\n    this.storage.get('mapstatus').then((gottenitems) => {\n      if(gottenitems != null){\n        if(gottenitems == \"pending\"){\n          this.orderPlaced_showmap = true;\n        }else{\n          this.orderPlaced_showmap = false;\n         }\n      }\n    });\n  }\n\n  loadData(){\n    this.items =[];\n    this.actions = \"&actions=productfetch\";\n    this.data = \"&rest_id=\"+this.rest_id;\n    this.apiReq.postData(this.actions,this.data).then(res=>{\n      let repo = JSON.parse(res['_body']);\n      \n      if(repo.msg == 'true'){\n        this.items = repo.data;\n        console.log(this.items +' I have data!');\n      }else{\n        this.apiReq.errorToast('Network is slow');\n      }\n    })\n  }\n\n  // loadAds(){\n  //   this.items =[];\n  //   this.actions = \"&actions=adsfetch\";\n  //   this.data = \"\";\n  //   this.apiReq.postData(this.actions,this.data).then(res=>{\n  //     let repo = JSON.parse(res['_body']);\n  //     console.log(repo +' I have Ads!');\n  //     if(repo.msg == 'true'){\n  //       this.ads = repo.data;\n  //     }else{\n  //       this.apiReq.errorToast('Network is slow');\n  //     }\n  //   })\n  // }\n\n  sort(){\n    this.descending = !this.descending;\n    this.order = this.descending ? 1 : -1;\n  }\n\n  goProductdetailsPage(id,name,price,photo) {\n    this.navCtrl.push('ProductdetailsPage',{\n      productcode:id,\n      productname:name,\n      productprice:price,\n      productphoto:photo\n    });\n  }\n\n  opencart() {\n      this.navCtrl.push('CartPage');\n  }\n\n  opensearch() {\n      this.navCtrl.push('SearchPage');\n  }\n\n  openfoods() {\n    this.navCtrl.push('FoodsPage');\n  }\n\n\n  addToCart(prcode,productname,productprice){\n    this.cart.addToCart(prcode,productname,productprice);\n    this.cartcount_here();\n  }\n\n  carttotal(price){\n    // Store pin in database\n    this.storage.get('pricetotal').then((gottenitems) => {\n      if(gottenitems != null){\n\n          this.total_db = Number(gottenitems) + Number(price); \n          this.storage.set('pricetotal', this.total_db);\n          console.log('Total not new', this.total_db);\n\n      }else{\n         this.total_db = Number(price); \n         this.storage.set('pricetotal', this.total_db);\n         console.log('Total ', this.total_db);\n      }\n    });\n  }\n\n  cartItemsNum(){\n    // Store pin in database\n    this.storage.get('cartItemsNum').then((gottenitems) => {\n      if(gottenitems != null){\n          this.totalItems_db = Number(gottenitems) + 1; \n          this.storage.set('cartItemsNum', this.totalItems_db);\n          console.log('Total Items in cart Not New', this.totalItems_db);\n      }else{\n         this.totalItems_db = 1; \n         this.storage.set('cartItemsNum', this.totalItems_db);\n         console.log('Total Items in cart Old', this.totalItems_db);\n      }\n    });\n  }\n\n  GetcartItemsNum(){\n    // Store pin in database\n    this.storage.get('cartItemsNum').then((gottenitems) => {\n      if(gottenitems != null){\n          this.totalItems_db = Number(gottenitems); \n      }\n    });\n\n  }\n\n\n  toCartPage(){\n    this.navCtrl.push('CartPage');\n  }\n\n\n  toNotificationPage() {\n    this.navCtrl.push('NotificationPage');\n  }\n\n  toMaplocPage() {\n    this.navCtrl.push('MaplocPage');\n  }\n\n  toProductDetailsPage(id,name,price,photo) {\n      this.navCtrl.push('ProductdetailsPage',{\n        productcode:id,\n        productname:name,\n        productprice:price,\n        productphoto:photo\n      });\n  }\n\n\n  presentPopover(event){\n    this.pop.navPopover(event);\n  }\n\n  popView(){\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/foods/foods.ts"],"sourceRoot":""}