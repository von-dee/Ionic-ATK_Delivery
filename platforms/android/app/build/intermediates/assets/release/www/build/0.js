webpackJsonp([0],{270:function(l,n,t){"use strict";function u(l){return o._19(0,[(l()(),o.Z(0,0,null,null,10,"p",[["style","margin-top: 0;margin-bottom: 0;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n                "])),(l()(),o.Z(2,0,null,null,1,"span",[["class","itemsspan"]],null,null,null,null,null)),(l()(),o._18(3,null,["",""])),(l()(),o._18(-1,null,["\n                "])),(l()(),o.Z(5,0,null,null,1,"span",[["class","itemsspan"]],null,null,null,null,null)),(l()(),o._18(6,null,["GHS",""])),(l()(),o._18(-1,null,["\n                "])),(l()(),o.Z(8,0,null,null,1,"span",[["class","itemsspan"]],null,null,null,null,null)),(l()(),o._18(9,null,["",""])),(l()(),o._18(-1,null,["\n              "]))],null,function(l,n){l(n,3,0,n.context.$implicit.itemname);l(n,6,0,n.context.$implicit.itemprice);l(n,9,0,n.context.$implicit.itemquantity)})}function e(l){return o._19(0,[(l()(),o.Z(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(2,0,null,null,1,"p",[["style","margin: 0; margin-left: 1em; font-weight: 300;"]],null,null,null,null,null)),(l()(),o._18(3,null,["",""])),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(5,0,null,null,1,"p",[["style","margin: 0; margin-top: 0.4em;margin-left: 1.5em; font-size: 0.7em;font-weight: 100;"]],null,null,null,null,null)),(l()(),o._18(6,null,["","."])),(l()(),o._18(-1,null,["\n          "]))],null,function(l,n){var t=n.component;l(n,3,0,t.pharm_drugname);l(n,6,0,t.pharm_drugdescription)})}function i(l){return o._19(0,[o._16(402653184,1,{mapElement:0}),(l()(),o._18(-1,null,["\n\n"])),(l()(),o.Z(2,0,null,null,73,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,I.b,I.a)),o.Y(3,4374528,null,0,S.a,[N.a,w.a,x.a,o.j,o.z,O.a,T.a,o.u,[2,D.a],[2,Y.a]],null,null),(l()(),o._18(-1,1,["\n    "])),(l()(),o.Z(5,0,null,1,4,"div",[["class",""]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n      "])),(l()(),o.Z(7,0,null,null,1,"ion-icon",[["name","ios-arrow-round-back-outline"],["role","img"],["style","font-size: 2em !important;color: #73380d;margin-left: 15px;  margin-top: 5px;"]],[[2,"hide",null]],[[null,"tap"]],function(l,n,t){var u=!0;if("tap"===n){u=!1!==l.component.pagepop()&&u}return u},null,null)),o.Y(8,147456,null,0,M.a,[N.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o._18(-1,null,["\n    "])),(l()(),o._18(-1,1,["\n\n    "])),(l()(),o.Z(11,0,null,1,10,"div",[["class",""]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n      "])),(l()(),o.Z(13,0,null,null,7,"p",[["style","margin-left: 1.5em; margin-bottom: 3em;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n        "])),(l()(),o.Z(15,0,null,null,1,"span",[["style","font-size: 1.5em;border-right: solid 1px #73380d; font-weight: 100;padding-right: 5px;  color: #73380d;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Map"])),(l()(),o._18(-1,null,["\n        "])),(l()(),o.Z(18,0,null,null,1,"span",[["style","font-size: 0.7em;font-weight: 100;color: #c3c3c3;margin-left: 10px;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Search for a pharmacy on the map"])),(l()(),o._18(-1,null,["\n      "])),(l()(),o._18(-1,null,["\n    "])),(l()(),o._18(-1,1,["\n\n    "])),(l()(),o.Z(23,0,null,1,3,"div",[["class","fade"]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n      "])),(l()(),o.Z(25,0,[[1,0],["map",1]],null,0,"div",[["class","omap"],["id","map"],["style","height: 350px"]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n    "])),(l()(),o._18(-1,1,["\n\n    "])),(l()(),o.Z(28,0,null,1,46,"div",[],null,null,null,null,null)),(l()(),o._18(-1,null,["\n      "])),(l()(),o.Z(30,0,null,null,43,"ion-grid",[["class","grid"],["style","padding: 0;"]],null,null,null,null,null)),o.Y(31,16384,null,0,P.a,[],null,null),(l()(),o._18(-1,null,["\n        "])),(l()(),o.Z(33,0,null,null,39,"ion-row",[["class","row"]],null,null,null,null,null)),o.Y(34,16384,null,0,z.a,[],null,null),(l()(),o._18(-1,null,["\n          "])),(l()(),o.Z(36,0,null,null,4,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),o.Y(37,16384,null,0,G.a,[],null,null),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(39,0,null,null,0,"img",[["alt",""],["src","img/footruck.png"],["style",""]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n          "])),(l()(),o._18(-1,null,["\n          "])),(l()(),o.Z(42,0,null,null,19,"ion-col",[["class","col"],["col-6",""]],null,null,null,null,null)),o.Y(43,16384,null,0,G.a,[],null,null),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(45,0,null,null,1,"p",[["style","font-size: 1.5rem;font-weight: 300;color: black;margin-top: 2em;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Delivery "])),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(48,0,null,null,5,"p",[["class","details_P"]],null,null,null,null,null)),(l()(),o.Z(49,0,null,null,4,"span",[["class","details_Span"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Basket's Total Cost  "])),(l()(),o.Z(51,0,null,null,1,"span",[["style","float: right;margin-right: 6px;padding-top: 2.5px;"]],null,null,null,null,null)),(l()(),o._18(52,null,["GHS ",""])),(l()(),o._18(-1,null,[" "])),(l()(),o._18(-1,null,["\n            "])),(l()(),o.Z(55,0,null,null,5,"p",[["class","details_P"]],null,null,null,null,null)),(l()(),o.Z(56,0,null,null,4,"span",[["class","details_Span"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Delivery's distance  "])),(l()(),o.Z(58,0,null,null,1,"span",[["style","float: right;margin-right: 6px;padding-top: 2.5px;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["1km"])),(l()(),o._18(-1,null,[" "])),(l()(),o._18(-1,null,["\n          "])),(l()(),o._18(-1,null,["\n          "])),(l()(),o.Z(63,0,null,null,8,"ion-col",[["class","col"],["col-12",""]],null,null,null,null,null)),o.Y(64,16384,null,0,G.a,[],null,null),(l()(),o._18(-1,null,["\n              "])),(l()(),o.Z(66,0,null,null,1,"p",[["style","font-size: 1.3rem;font-weight: 300;color: black;margin-top: 0em;margin-bottom: 0em;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["Items List"])),(l()(),o._18(-1,null,["\n              "])),(l()(),o.U(16777216,null,null,1,null,u)),o.Y(70,802816,null,0,k.h,[o.I,o.F,o.p],{ngForOf:[0,"ngForOf"]},null),(l()(),o._18(-1,null,["              \n            "])),(l()(),o._18(-1,null,["\n        "])),(l()(),o._18(-1,null,["\n      "])),(l()(),o._18(-1,null,["\n    "])),(l()(),o._18(-1,1,["\n\n"])),(l()(),o._18(-1,null,["\n\n"])),(l()(),o.Z(77,0,null,null,29,"ion-footer",[],null,null,null,null,null)),o.Y(78,16384,null,0,F.a,[N.a,o.j,o.z,[2,D.a]],null,null),(l()(),o._18(-1,null,["\n  "])),(l()(),o.Z(80,0,null,null,25,"ion-grid",[["class","grid"],["style","padding: 0;"]],null,null,null,null,null)),o.Y(81,16384,null,0,P.a,[],null,null),(l()(),o._18(-1,null,["\n    "])),(l()(),o.Z(83,0,null,null,21,"ion-row",[["class","row"]],null,null,null,null,null)),o.Y(84,16384,null,0,z.a,[],null,null),(l()(),o._18(-1,null,["\n      "])),(l()(),o.Z(86,0,null,null,5,"ion-col",[["class","col"],["col-9",""]],null,null,null,null,null)),o.Y(87,16384,null,0,G.a,[],null,null),(l()(),o._18(-1,null,["\n          "])),(l()(),o.U(16777216,null,null,1,null,e)),o.Y(90,16384,null,0,k.i,[o.I,o.F],{ngIf:[0,"ngIf"]},null),(l()(),o._18(-1,null,["\n      "])),(l()(),o._18(-1,null,["\n      \n      "])),(l()(),o.Z(93,0,null,null,10,"ion-col",[["class","col"],["col-3",""],["style","padding: 0;"]],null,[[null,"tap"]],function(l,n,t){var u=!0;if("tap"===n){u=!1!==l.component.getDeliveryGuyObservable()&&u}return u},null,null)),o.Y(94,16384,null,0,G.a,[],null,null),(l()(),o._18(-1,null,["\n        "])),(l()(),o.Z(96,0,null,null,6,"div",[["style","float: right; width: 100%;"]],null,null,null,null,null)),(l()(),o._18(-1,null,["\n          "])),(l()(),o.Z(98,0,null,null,3,"button",[["full",""],["ion-button",""],["style","margin: 0;height: 5em; background-color: #73380d; width: 100%;"]],null,null,null,j.b,j.a)),o.Y(99,1097728,null,0,C.a,[[8,""],N.a,o.j,o.z],{full:[0,"full"]},null),(l()(),o.Z(100,0,null,0,1,"ion-icon",[["name","md-call"],["role","img"],["style","font-size: 2em !important;color: #fff;"]],[[2,"hide",null]],null,null,null,null)),o.Y(101,147456,null,0,M.a,[N.a,o.j,o.z],{name:[0,"name"]},null),(l()(),o._18(-1,null,["\n        "])),(l()(),o._18(-1,null,["\n      "])),(l()(),o._18(-1,null,["\n    "])),(l()(),o._18(-1,null,["\n  "])),(l()(),o._18(-1,null,["\n"])),(l()(),o._18(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,8,0,"ios-arrow-round-back-outline");l(n,70,0,t.cartinfo);l(n,90,0,t.page_from==t.drugs);l(n,99,0,"");l(n,101,0,"md-call")},function(l,n){var t=n.component;l(n,2,0,o._11(n,3).statusbarPadding,o._11(n,3)._hasRefresher);l(n,7,0,o._11(n,8)._hidden);l(n,52,0,t.total_db);l(n,100,0,o._11(n,101)._hidden)})}Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),a=(t(3),t(41),t(129)),r=(t(43),t(44)),s=(t(279),t(283),t(92),t(34)),c=t(137),p=function(){function l(l,n,t,u,e,i,o){this.navCtrl=l,this.storage=n,this.api=t,this.http=u,this.navParams=e,this.geolocation=i,this.callNumber=o,this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.total_db=0,this.page_from=this.navParams.get("page"),this.PhoneNumber=localStorage.getItem("PhoneNumber"),this.trans_code=localStorage.getItem("Transaction_Code")}return l.prototype.ionViewDidLoad=function(){this.loadcart(),this.getTotalPrice(),this.initMap(),this.getDeliveryGuyObservable()},l.prototype.loadcart=function(){var l=this;this.storage.get("currentcart").then(function(n){l.gottenitem="["+n+"]",l.cartinfo=JSON.parse(l.gottenitem),""!=l.cartinfo&&"[]"!=l.cartinfo&&null!=l.cartinfo&&"false"!=l.cartinfo||(l.cartinfo=[]),console.log("Your cartitems are ",l.cartinfo)})},l.prototype.getTotalPrice=function(){var l=this;this.storage.get("pricetotal").then(function(n){null!=n?(l.total_db=Number(n),console.log("Get Total Price Old",l.total_db)):(l.total_db=0,console.log("Get total price New ",l.total_db))})},l.prototype.initMap=function(){var l=this;this.geolocation.getCurrentPosition().then(function(n){var t=new google.maps.LatLng(n.coords.latitude,n.coords.longitude);l.latme=n.coords.latitude,l.longme=n.coords.longitude;var u={center:t,zoom:15};l.map=new google.maps.Map(l.mapElement.nativeElement,u),l.directionsDisplay.setMap(l.map),l.calculateAndDisplayRoute(l.longme,l.latme)},function(l){console.log(l)})},l.prototype.calculateAndDisplayRoute=function(l,n){var t=this,u=this.latme+","+this.longme,e=n+","+l;console.log(u),this.directionsService.route({origin:u,destination:e,travelMode:"DRIVING"},function(l,n){"OK"===n?t.directionsDisplay.setDirections(l):window.alert("Directions request failed due to "+n)})},l.prototype.pagepop=function(){this.navCtrl.push("MenuPage")},l.prototype.callPharmacy=function(){this.callNumber.callNumber(this.PhoneNumber,!1).then(function(){return console.log("Launched dialer!")}).catch(function(){return console.log("Error launching dialer")})},l.prototype.getDeliveryGuyObservable=function(){var l=this;setTimeout(function(){l.fetchDeliveryGuysloc()},1e3)},l.prototype.fetchDeliveryGuysloc=function(){var l=this;console.log("Selasie is my name "),this.action="&actions=deliveryguyloc",this.datacollection="&transcode="+this.trans_code,this.api.postData(this.action,this.datacollection).then(function(n){l.items=JSON.parse(n._body).response,l.api_data=JSON.parse(n._body).data,null==l.api_data.deliveryguy_longitude&&""==l.api_data.deliveryguy_longitude||(l.calculateAndDisplayRoute(l.api_data.deliveryguy_longitude,l.api_data.deliveryguy_latitude),l.getDeliveryGuyObservable()),"3"!=l.api_data.delivery_status&&null!=l.api_data.delivery_status&&""!=l.api_data.delivery_status&&l.getDeliveryGuyObservable(),console.log("This is de res",l.api_data.deliveryguy_latitude)}).catch(function(l){console.log(l)}),this.getDeliveryGuyObservable()},l}(),d=function(){return function(){}}(),h=t(199),_=t(200),m=t(201),f=t(202),g=t(203),v=t(204),y=t(205),b=t(206),Z=t(207),I=t(208),S=t(21),N=t(1),w=t(4),x=t(8),O=t(9),T=t(25),D=t(5),Y=t(19),M=t(33),P=t(86),z=t(85),G=t(84),k=t(17),F=t(87),j=t(35),C=t(20),E=t(61),R=t(11),V=o.X({encapsulation:2,styles:[],data:{}}),L=o.V("page-maploc",p,function(l){return o._19(0,[(l()(),o.Z(0,0,null,null,1,"page-maploc",[],null,null,null,i,V)),o.Y(1,49152,null,0,p,[Y.a,E.a,s.a,r.e,R.a,a.a,c.a],null,null)],null,null)},{},{},[]),A=t(15),J=t(126),$=t(42);t.d(n,"MaplocPageModuleNgFactory",function(){return q});var q=o.W(d,[],function(l){return o._7([o._8(512,o.i,o.S,[[8,[h.a,_.a,m.a,f.a,g.a,v.a,y.a,b.a,Z.a,L]],[3,o.i],o.s]),o._8(4608,k.k,k.j,[o.r,[2,k.s]]),o._8(4608,A.k,A.k,[]),o._8(4608,A.c,A.c,[]),o._8(512,k.b,k.b,[]),o._8(512,A.j,A.j,[]),o._8(512,A.d,A.d,[]),o._8(512,A.i,A.i,[]),o._8(512,J.a,J.a,[]),o._8(512,J.b,J.b,[]),o._8(512,d,d,[]),o._8(256,$.a,p,[])])})},279:function(l,n,t){"use strict";var u=t(10),e=t(280);u.Observable.interval=e.interval},280:function(l,n,t){"use strict";var u=t(281);n.interval=u.IntervalObservable.create},281:function(l,n,t){"use strict";var u=t(3).__extends,e=t(282),i=t(10),o=t(141);n.IntervalObservable=function(l){function n(n,t){void 0===n&&(n=0),void 0===t&&(t=o.async),l.call(this),this.period=n,this.scheduler=t,(!e.isNumeric(n)||n<0)&&(this.period=0),t&&"function"==typeof t.schedule||(this.scheduler=o.async)}return u(n,l),n.create=function(l,t){return void 0===l&&(l=0),void 0===t&&(t=o.async),new n(l,t)},n.dispatch=function(l){var n=l.subscriber,t=l.period;n.next(l.index),n.closed||(l.index+=1,this.schedule(l,t))},n.prototype._subscribe=function(l){var t=this.period;l.add(this.scheduler.schedule(n.dispatch,t,{index:0,subscriber:l,period:t}))},n}(i.Observable)},282:function(l,n,t){"use strict";var u=t(138);n.isNumeric=function(l){return!u.isArray(l)&&l-parseFloat(l)+1>=0}},283:function(l,n,t){"use strict";var u=t(10),e=t(284);u.Observable.prototype.flatMapTo=e.mergeMapTo,u.Observable.prototype.mergeMapTo=e.mergeMapTo},284:function(l,n,t){"use strict";var u=t(285);n.mergeMapTo=function(l,n,t){return void 0===t&&(t=Number.POSITIVE_INFINITY),u.mergeMapTo(l,n,t)(this)}},285:function(l,n,t){"use strict";var u=t(3).__extends,e=t(64),i=t(63);n.mergeMapTo=function(l,n,t){return void 0===t&&(t=Number.POSITIVE_INFINITY),"number"==typeof n&&(t=n,n=null),function(u){return u.lift(new o(l,n,t))}};var o=function(){function l(l,n,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.ish=l,this.resultSelector=n,this.concurrent=t}return l.prototype.call=function(l,n){return n.subscribe(new a(l,this.ish,this.resultSelector,this.concurrent))},l}();n.MergeMapToOperator=o;var a=function(l){function n(n,t,u,e){void 0===e&&(e=Number.POSITIVE_INFINITY),l.call(this,n),this.ish=t,this.resultSelector=u,this.concurrent=e,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return u(n,l),n.prototype._next=function(l){if(this.active<this.concurrent){var n=this.resultSelector,t=this.index++,u=this.ish,e=this.destination;this.active++,this._innerSub(u,e,n,l,t)}else this.buffer.push(l)},n.prototype._innerSub=function(l,n,t,u,e){this.add(i.subscribeToResult(this,l,u,e))},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},n.prototype.notifyNext=function(l,n,t,u,e){var i=this.destination;this.resultSelector?this.trySelectResult(l,n,t,u):i.next(n)},n.prototype.trySelectResult=function(l,n,t,u){var e,i=this.resultSelector,o=this.destination;try{e=i(l,n,t,u)}catch(l){return void o.error(l)}o.next(e)},n.prototype.notifyError=function(l){this.destination.error(l)},n.prototype.notifyComplete=function(l){var n=this.buffer;this.remove(l),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(e.OuterSubscriber);n.MergeMapToSubscriber=a}});